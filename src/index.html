<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Payment Gateway</title>
  <!-- <base href="/front/"> -->
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,400;1,500;1,700&display=swap"
    rel="stylesheet">
</head>

<body>

  <app-root></app-root>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
  <script>
    // Send random message data on every button click
    window.addEventListener('paymentResult', function (e) {
      alert('ee')
      // var random = Math.random();
      // sendMessage('' + random);
    })
    //Payment tabs
    (function () {
      $(function () {
        var toggle;
        return toggle = new Toggle('.toggle');
      });


      this.Toggle = (function () {
        Toggle.prototype.el = null;

        Toggle.prototype.tabs = null;

        Toggle.prototype.panels = null;

        function Toggle(toggleClass) {
          this.el = $(toggleClass);
          this.tabs = this.el.find(".tab");
          this.panels = this.el.find(".panel");
          this.bind();
        }

        Toggle.prototype.show = function (index) {
          var activePanel, activeTab;
          this.tabs.removeClass('active');
          activeTab = this.tabs.get(index);
          $(activeTab).addClass('active');
          this.panels.hide();
          activePanel = this.panels.get(index);
          return $(activePanel).show();
        };

        Toggle.prototype.bind = function () {
          var _this = this;
          return this.tabs.unbind('click').bind('click', function (e) {
            return _this.show($(e.currentTarget).index());
          });
        };

        return Toggle;

      })();

    }).call(this);

    // addEventListener support for IE8
    // var bindEvent = function (element, eventName, eventHandler) {
    //   if (element.addEventListener) {
    //     element.addEventListener(eventName, eventHandler, false);
    //   } else if (element.attachEvent) {
    //     element.attachEvent('on' + eventName, eventHandler);
    //   }
    // }

    // Send a message to the parent
    var sendMessage = function (msg) {
      // alert('aaaaaee')
      // Make sure you are sending a string, and to stringify JSON
      window.parent.postMessage(msg, '*');
    };

    var results = document.getElementById('results'),
      messageButton = document.getElementById('message_button');

    // Listen to messages from parent window
    bindEvent(window, 'message', function (e) {
      results.innerHTML = e.data;
    });

    
    // bindEvent(messageButton, 'click', function (e) {
    //   var random = Math.random();
    //   sendMessage('' + random);
    // });
  </script>
</body>

</html>